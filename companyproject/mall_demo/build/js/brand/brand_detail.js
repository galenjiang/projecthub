var app=new Vue({mixins:[Mui.vueMixinInit],el:"#brandDetail",data:{userdata:{},id:0,shopinfo:{goods:[],logo:""},is_follow:!1},computed:{followObj:function(){return{"mui-icon-weiguanzhu":!this.is_follow,"mui-icon-yiguanzhu":this.is_follow}}},methods:{init:function(){this.getBrandInfo(),this.getFocus()},getFocus:function(){Vue.http.get(url+"index.php?m=Api&c=Shop&a=isConcern",{shopId:this.id}).then(function(t){util.console.log(t.data),1==t.data.status?1==t.data.data?this.is_follow=!0:this.is_follow=!1:Mui.message.toast({msg:t.data.info})}.bind(this))["catch"](function(t){alert(t)})},getBrandInfo:function(){Vue.http.get(url+"index.php?m=Api&c=Shop&a=shop_info",{app_auth_code:this.userdata.app_auth_code,id:this.id}).then(function(t){util.console.log(t.data.data),1==t.data.status?this.shopinfo=_.mapValues(t.data.data,function(t,i){return"image"==i?t=url+t:"logo"==i?t=url+t:"tags"==i&&_.map(t,function(t){return t.img=url+t.img,t}),t}):Mui.message.toast({msg:t.data.info})}.bind(this))["catch"](function(t){alert(t)})},follow:function(){Vue.http.get(url+"index.php?m=Api&c=Shop&a=concern",{app_auth_code:this.userdata.app_auth_code,shop_id:this.id}).then(function(t){util.console.log(t.data),1==t.data.status?(this.is_follow?this.is_follow=!1:this.is_follow=!0,this.is_follow?Mui.message.toast({msg:"已关注商户"}):Mui.message.toast({msg:"已取消关注"})):Mui.message.toast({msg:t.data.info})}.bind(this))["catch"](function(t){alert(t)})}},created:function(){this.id=util.urlQuery().id}});
Vue.use(VueAsyncData),function(){Vue.directive("unfinished",{params:[],bind:function(){var t=new Hammer(this.el);t.on("tap",function(t){Mui.message.toast({msg:"敬请期待"}),console.log(t),t.preventDefault()}),this.el.addEventListener("touchend",function(t){t.preventDefault()},!1)},update:function(){},unbind:function(){}})}(),function(){var t=Vue.extend({props:{link:{type:String,"default":"#"},img:{type:String,"default":"#"},index:{type:Number}},computed:{classObject:function(){return{cur:0==this.index}}},template:'<a      :href="link"      :class="classObject"      class="mui-banner-page">        <img :src="img">      </a>',beforeCompile:function(){}}),e=Vue.extend({props:["now","index"],computed:{classObject:function(){return{"mui-banner-indicator-dot-active":this.now==this.index,"mui-banner-indicator-dot":!0}}},template:'<span v-bind:class="classObject"></span>',ready:function(){}});Mui.banner=Vue.extend({props:{bannerList:{type:Array,"default":[]}},data:function(){return{timer:null,now:0}},components:{"mui-banner-indicator-dot":e,"mui-banner-page":t},computed:{bannerModel:function(){},newBannerList:function(){}},watch:{now:function(t,e){t>e?this.slide("left",t,e):this.slide("right",t,e)}},methods:{slide:function(t,e,i){if("left"==t){var n=document.querySelectorAll(".mui-banner-page");n[e].classList.add("next");var s=(n[e].clientHeight,function(){this.classList.remove("next","trans"),this.removeEventListener("transitionend",s,!1)}.bind(n[e]));n[e].addEventListener("transitionend",s,!1),n[e].classList.add("trans","cur");var a=function(){this.classList.remove("prev","trans","cur"),this.removeEventListener("transitionend",a,!1)}.bind(n[i]);n[i].addEventListener("transitionend",a,!1),n[i].classList.add("trans"),n[i].classList.add("prev"),n[i].classList.remove("cur")}else{var n=document.querySelectorAll(".mui-banner-page");n[e].classList.add("prev");var s=(n[e].clientHeight,function(){this.classList.remove("prev","trans"),this.removeEventListener("transitionend",s,!1)}.bind(n[e]));n[e].addEventListener("transitionend",s,!1),n[e].classList.add("trans","cur");var a=function(){this.classList.remove("next","trans","cur"),this.removeEventListener("transitionend",a,!1)}.bind(n[i]);n[i].addEventListener("transitionend",a,!1),n[i].classList.add("trans"),n[i].classList.add("next"),n[i].classList.remove("cur")}},next:function(){this.now+1<this.bannerList.length?this.now+=1:this.now=0},previous:function(){this.now-1>=0?this.now-=1:this.now=this.bannerList.length-1}},template:'<div class="mui-banner" v-touch:swipeleft="next" v-touch:swiperight="previous">        <div class="mui-banner-pages">          <mui-banner-page v-for="item in bannerList" track-by="$index"            :link="item.link"            :img="item.img"            :index="$index"          ></mui-banner-page>        </div>        <div class="mui-banner-indicator">            <mui-banner-indicator-dot v-for="item in bannerList"            :index="$index"            :now="now"></mui-banner-indicator-dot>        </div>    </div>',ready:function(){}})}(),function(){var t=Vue.extend({props:["index","name","now"],computed:{classObject:function(){return{"mui-tab-cell":!0,"mui-tab-active":this.now==this.index}}},methods:{sendindex:function(){this.$dispatch("tab",this.index)}},template:'<li v-touch:tap="sendindex" :class="classObject">{{name}}</li>'});Mui.tabs=Vue.extend({props:["tabList","cur"],data:function(){return{now:0}},components:{"mui-tab":t},computed:{styleObject:function(){return{transform:"translateX("+100*this.now+"%) translateZ(0)",width:1/this.tabList.length*100+"%"}}},events:{tab:function(t){return this.now=t,!0}},watch:{},template:'<div v-el:line class="mui-tabs mui-line-bottom">        <ul class="mui-tab">          <mui-tab v-for="item in tabList"             :name="item.name"            :index="$index"            :now="now"            ></mui-tab>        </ul>        <div class="mui-tab-line" :style="styleObject"></div>      </div>',ready:function(){this.now=this.cur}})}(),function(){var t=Vue.extend({props:{name:{type:String,"default":""},index:{type:Number,"default":0},cur:{type:Number,"default":0}},methods:{tab:function(){this.cur=this.index}},computed:{classObject:function(){return{active:this.cur==this.index}}},template:'<span v-touch:tap="tab" class="mui-tab" :class="classObject">{{name}}</span>'});Mui.tabsImplict=Vue.extend({props:{tabList:{type:Array,"default":[]},cur:{type:Number,"default":0}},data:function(){return{now:0}},components:{"mui-tab":t},events:{tab:function(t){}},template:'<div class="mui-tabs--implict">      <mui-tab        v-for="tab in tabList"        :name="tab.name"        :index="$index"        :cur.sync="cur"      ></mui-tab>    </div>',ready:function(){}})}(),function(){Vue.directive("refresh",{params:["callback","allowrefresh"],bind:function(){this.el.addEventListener("scroll",function(){this.el.scrollTop+this.el.clientHeight+10>this.el.scrollHeight&&this.params.allowrefresh&&this.params.callback()}.bind(this),!1)},update:function(){},unbind:function(){}})}(),function(){Mui.showPiture=Vue.extend({props:{url:{type:String,"default":"#"},img:{type:String,"default":"#"},textUpper:{type:String,"default":"主标题"},textLower:{type:String,"default":"副标题"}},template:'<a :href="url" class="mui-show-picture">      <img :src="img" />      <div class="item-title  mui-padding-0-10">        <h4>{{ textUpper }}</h6>        <p>{{ textLower }}</p>        <slot></slot>      </div>    </a>'})}(),function(){Mui.circleProgress=Vue.extend({props:{progress:{type:Number,"default":0},textUpper:{type:Number,"default":666},textLower:{type:String,"default":"副标题"}},data:function(){return{num:0}},computed:{rightProgress:function(){return this.progress>180?{transform:"rotate(45deg)"}:{transform:"rotate("+(-135+this.progress)+"deg)"}},leftProgress:function(){return this.progress<180?{transform:"rotate(-315deg)"}:this.progress>360?{transform:"rotate(-135deg)"}:{transform:"rotate("+(-315+this.progress-180)+"deg)"}}},template:'<div class="mui-circle-progress">      <div class="circle-wrapper right">        <div class="circleProgress rightcircle"  :style="rightProgress"></div>      </div>      <div class="circle-wrapper left">        <div class="circleProgress leftcircle" :style="leftProgress"></div>      </div>      <div class="circle-text">        <h4 class="title-upper">{{ textUpper }}</h4>        <p class="title-lower">{{ textLower }}</p>      </div>    </div>',ready:function(){}})}(),function(){Mui.uploadPicture=Vue.extend({props:{url:{type:String,"default":"./index.php?m=Api&c=Upload&a=Upload"},index:{type:Number},"delete":{type:Boolean,"default":!0}},data:function(){return{img:"",status:!1}},computed:{styleObj:function(){return{display:this.img?"none":"inline-block"}}},methods:{upload:function(){wx.ready(function(){wx.chooseImage({count:1,success:function(t){wx.uploadImage({localId:t.localIds[0],isShowProgressTips:1,success:function(t){var e=t.serverId;Vue.http.get(url+"index.php?m=Home&c=Demo&a=getImg",{MediaId:e}).then(function(t){this.img=t.data,this.$dispatch("img",{index:this.index,img:this.img})}.bind(this))["catch"](function(t){alert(t)})}.bind(this)})}.bind(this)})}.bind(this))},longtouch:function(){this.status?this.status=!1:this.status=!0,event.preventDefault()},close:function(t){this.$dispatch("close",this.index),this.$destroy(!0),t.preventDefault()}},template:'<p :index="index" v-touch:tap="upload" v-touch:pressup="longtouch" class="mui-upload-frame">    <img class="mui-upload-pic" v-show="true" :src="img"/>    <i class="mui-iconfont mui-icon-zhaopian" :style="styleObj"></i>    <i v-show="status && delete" v-touch:tap="close" class="mui-iconfont mui-icon-guanbi"></i>    </p>'})}(),function(){Mui.coupon=Vue.extend({props:{img:{type:String,"default":"#"},status:{type:Number,"default":0},uri:{type:String,"default":0}},template:'<a :href="uri" class="mui-coupon mui-margin-10-0">          <img class="card" :src="img" />          <img v-show="status == 1" class="status" src="/lefang/Public/mall/images/overdue.png" />          <img v-show="status == 2" class="status" src="/lefang/Public/mall/images/used.png" />        </a>'})}(),function(){var t=Vue.extend({props:{name:{type:String,"default":"分类"},cur:{twoWay:!0,type:Number,"default":0},index:{type:Number,"default":0}},methods:{tab:function(){this.$dispatch("tab",this.index),event.preventDefault()}},computed:{activeObj:function(){return{active:this.cur==this.index}}},template:'<li v-touch:tap="tab" class="mui-screen-cell" :class="activeObj">      <label class="mui-label">{{ name }}        <i class="mui-iconfont mui-icon-xiajiantou"></i>      </label>    </li>',ready:function(){}});Mui.screen=Vue.extend({data:function(){return{}},props:{screenList:{type:Array,"default":[{name:"分类1"},{name:"分类2"},{name:"分类3"}]},cur:{type:Number,"default":0,twoWay:!0}},events:{tab:function(t){var e=Array.prototype.slice.call(this.$el.querySelectorAll(".mui-screen-item"));this.cur==t?e.forEach(function(e,i){e.classList.remove("show"),t=-1}):(e.forEach(function(t){t.classList.remove("show")}),e[t].classList.toggle("show")),this.cur=t}},components:{"mui-screen":t},template:'<div class="mui-screen-wrapper"><ul class="mui-screen">      <mui-screen        v-for="item in screenList"        :name="item.name"        :cur.sync="cur"        :index="$index"      ></mui-screen>    </ul>    <slot>content will be replaced</slot>    </div>',ready:function(){}})}(),function(){Mui.radio=Vue.extend({props:{radio:{type:Object,"default":{}},choosed:{type:String,"default":""}},computed:{classObject:function(){return{"mui-icon-xuanzhong":this.choosed==this.radio.value,"mui-icon-weixuan":this.choosed!=this.radio.value}}},template:'<label class="mui-radio">            <i class="mui-radio-icon mui-iconfont" :class="classObject"></i>            <span class="mui-radio-label">{{radio.name}}</span>            <input class="mui-radio-input" type="radio" :value="radio.value" v-model="choosed" />        </label>'}),Mui.radioGroup=Vue.extend({props:{radios:{type:Array,"default":[]},choosed:{type:String,"default":""}},components:{"mui-radio":Mui.radio},template:'<mui-radio :radio="radio" :choosed.sync="choosed" v-for="radio in radios"></mui-radio>'})}(),function(){Mui["switch"]=Vue.extend({props:{checked:{type:Boolean,"default":!1}},template:""})}(),function(){var t=Vue.extend({props:{num:{type:Number,"default":0}},computed:{classString:function(){return"mui-icon-"+this.num}},template:'<i class="mui-iconfont" :class="classString"></i>',beforeCompile:function(){}});Mui.countDown=Vue.extend({props:{time:{type:Number,"default":0}},computed:{},data:function(){return{hourlist:[0,0],minlist:[0,0],scdlist:[0,0]}},components:{"mui-num":t},template:'<div class="mui-countdown">            <i class="mui-iconfont mui-icon-shijian"></i>            <mui-num v-for="item in hourlist" :num.sync="item" track-by="$index"></mui-num>            <i class="mui-iconfont mui-icon-maohao"></i>            <mui-num v-for="item in minlist" :num.sync="item"track-by="$index"></mui-num>            <i class="mui-iconfont mui-icon-maohao"></i>            <mui-num v-for="item in scdlist" :num.sync="item"track-by="$index"></mui-num>        </div>',beforeCompile:function(){function t(t){var e=[];if(0>=t);else for(var i=String(t),n=0;n<i.length;n++)e.push(Number(i[n]));return 0==e.length?e=[0,0]:1==e.length&&e.unshift(0),e}setInterval(function(){var e=Math.floor((1e3*Number(this.time)-new Date)/1e3),i=e%60,n=Math.floor(e/60),s=n%60,a=Math.floor(e/360),r=Math.floor(a/60);this.scdlist=t(i),this.minlist=t(s),this.hourlist=t(r)}.bind(this),1e3)}})}(),function(){Mui.vueMixinInit={data:{userdata:{}},methods:{updateUserInfo:function(){return Vue.http.get("./index.php?m=Api&c=User&a=UserInfo",{}).then(function(t){1==t.data.status?(this.userdata=_.assign({},this.userdata,t.data.data),localStorage.userdata=JSON.stringify(this.userdata)):Mui.message.toast({msg:t.data.info})}.bind(this))}},beforeCompile:function(){this.userdata.current_mall_id=1,util.geograph(function(){this.userdata=util.init(),this.init()}.bind(this))}}}(),function(){Mui["switch"]=Vue.extend({props:{defaultCheck:{type:Boolean,"default":!0},onChange:{type:Function,"default":function(){}}},computed:{classObj:function(){return{active:!this.defaultCheck}}},methods:{"switch":function(){this.defaultCheck?this.defaultCheck=!1:this.defaultCheck=!0,this.onChange(this.defaultCheck)}},template:'<div class="mui-switch" v-touch:tap="switch" :class="classObj">            <div class="mui-switch-trigger"></div>        </div>'})}();
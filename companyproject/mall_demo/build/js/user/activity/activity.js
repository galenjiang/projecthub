var app=new Vue({mixins:[Mui.vueMixinInit],el:"#app",components:{"mui-tabs":Mui.tabs},data:{tabList:[{name:"未开始"},{name:"进行中"},{name:"已结束"}],type:"notStarted",activityList:[],page:1,totalpage:1,loading:!1},methods:{init:function(){this.getList()},getList:function(){!this.loading&&this.page<=this.totalpage&&(this.loading=!0,Vue.http.get(url+"index.php?m=Api&c=UserActive",{a:this.type}).then(function(t){if(this.loading=!1,util.console.log(t.data),1==t.data.status){var i=_.map(t.data.data.list,function(t){switch(t.thumbimg=url+t.thumbimg,t.type){case"public":t.url=url+"index.php?m=Home&c=Activity&a=activity_detail_original&id="+t.active_id;break;case"booking":t.url=url+"index.php?m=Home&c=Activity&a=activity_detail_join&id="+t.active_id;break;case"shake":t.url=url+"index.php?m=Home&c=Activity&a=activity_detail_shake&id="+t.active_id;break;default:t.url=url+"index.php?m=Home&c=Activity&a=activity_detail_original&id="+t.active_id}return t});this.activityList=_.concat(this.activityList,i),this.page+=1,this.totalpage=t.data.data.totalpage}else Mui.message.toast({msg:t.data.info})}.bind(this))["catch"](function(t){this.loading=!1,alert(t)}))}},events:{tab:function(t){switch(t){case 0:this.type="notStarted";break;case 1:this.type="ongoing";break;case 2:this.type="finish";break;default:this.type=""}this.page=1,this.totalpage=1,this.activityList=[],this.getList()}}});
var app=new Vue({mixins:[Mui.vueMixinInit],components:{"mui-circle-progress":Mui.circleProgress},el:"#integral",data:{userdata:{},carddata:{},cirecleProgressData:{progress:0,textUpper:0,textLower:"当前积分"}},methods:{init:function(){Vue.http.post(url+"index.php?m=Api&c=User&a=card_user",{}).then(function(e){if(1==e.data.status){this.carddata=e.data.data;var t=Number(e.data.data.integral),a=Math.floor(t/36),r=0,s=setInterval(function(){r+=a,this.cirecleProgressData.progress+=10,this.cirecleProgressData.textUpper=r,this.cirecleProgressData.progress>360&&(this.cirecleProgressData.textUpper=t,clearInterval(s))}.bind(this),30)}else Mui.message.toast({msg:e.data.info})}.bind(this))["catch"](function(e){alert(e)}),this.updateUserInfo()}}});
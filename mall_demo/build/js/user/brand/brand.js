new Vue({mixins:[Mui.vueMixinInit],el:"#brand",data:{userdata:{},list:[],page:1,totalpage:1,allowrefresh:!0},methods:{init:function(){this.getList()},getList:function(){this.allowrefresh&&this.page<=this.totalpage&&(this.allowrefresh=!1,Vue.http.get(url+"index.php?m=Api&c=User&a=shopFollow",{page:this.page}).then(function(t){if(util.console.log(t.data.data),this.totalpage=t.data.data.totalpage,this.page+=1,1==t.data.status){var a=_.map(t.data.data.list,function(t){return t.url=url+"index.php?m=Home&c=Brand&a=brand_detail&id="+t.shop_id,t.logo=url+t.logo,t.tags=_.map(t.tags,function(t){return t.img=url+t.img,t}),t});this.list=_.concat(this.list,a)}else Mui.message.toast({msg:t.data.info});this.allowrefresh=!0}.bind(this))["catch"](function(t){this.allowrefresh=!0,alert(t)}.bind(this)))}}});
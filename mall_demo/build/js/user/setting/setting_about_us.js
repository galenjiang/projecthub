new Vue({mixins:[Mui.vueMixinInit],components:{"mui-tabs":Mui.tabs},el:"#setting",data:{el:"#setting",tabList:[{name:"商场介绍"},{name:"关于乐坊"}],cur:0,showMall:0,showMap:!0,mallinfo:{}},methods:{init:function(){Vue.http.get(url+"index.php?m=Api&c=Mall&a=mallInfo",{mall_id:this.userdata.current_mall_id}).then(function(t){1==t.data.status?this.mallinfo=_.mapValues(t.data.data,function(t,a){return"cover"==a&&(t=url+t),"logo_pic"==a&&(t=url+t),t}):Mui.message.toast({msg:t.data.info})}.bind(this))["catch"](function(t){alert(t)})},tabMap:function(){this.showMap?this.showMap=!1:this.showMap=!0,event.preventDefault()},changeTab:function(t){this.showMall=t}},events:{tab:function(t){this.changeTab(t)}},ready:function(){var t=util.geo[_.findIndex(util.geo,function(t){return t.id==this.userdata.current_mall_id}.bind(this))];this.$nextTick(function(){var a=new BMap.Map("allmap"),n=new BMap.Point(t.longtitude,t.latitude);console.log(BMap.Marker),a.centerAndZoom(n,15);var i=new BMap.Marker(n);a.addOverlay(i),i.setAnimation(BMAP_ANIMATION_BOUNCE),a.enableScrollWheelZoom(!0),setTimeout(function(){this.showMap=!1}.bind(this))}.bind(this))}});